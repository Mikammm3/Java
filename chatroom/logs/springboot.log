2024-03-25 17:58:19.681  INFO 19860 --- [main] com.mika.chatroom.ChatRoomApplication    : Starting ChatRoomApplication using Java 1.8.0_192 on ib with PID 19860 (C:\Code\Java\chatroom\target\classes started by 86135 in C:\Code\Java\ChatRoom)
2024-03-25 17:58:19.688  INFO 19860 --- [main] com.mika.chatroom.ChatRoomApplication    : No active profile set, falling back to 1 default profile: "default"
2024-03-25 17:58:21.056  INFO 19860 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-25 17:58:21.068  INFO 19860 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-25 17:58:21.069  INFO 19860 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.82]
2024-03-25 17:58:21.243  INFO 19860 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-25 17:58:21.243  INFO 19860 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1512 ms
2024-03-25 17:58:22.287  INFO 19860 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-25 17:58:22.300  INFO 19860 --- [main] com.mika.chatroom.ChatRoomApplication    : Started ChatRoomApplication in 3.126 seconds (JVM running for 3.647)
2024-03-25 17:58:47.091  INFO 19860 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-25 17:58:47.092  INFO 19860 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-25 17:58:47.094  INFO 19860 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-25 18:11:41.440  INFO 17160 --- [main] com.mika.chatroom.ChatRoomApplication    : Starting ChatRoomApplication using Java 1.8.0_192 on ib with PID 17160 (C:\Code\Java\chatroom\target\classes started by 86135 in C:\Code\Java\ChatRoom)
2024-03-25 18:11:41.442  INFO 17160 --- [main] com.mika.chatroom.ChatRoomApplication    : No active profile set, falling back to 1 default profile: "default"
2024-03-25 18:11:42.408  INFO 17160 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-25 18:11:42.417  INFO 17160 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-25 18:11:42.417  INFO 17160 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.82]
2024-03-25 18:11:42.547  INFO 17160 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-25 18:11:42.548  INFO 17160 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1071 ms
2024-03-25 18:11:43.372  INFO 17160 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-25 18:11:43.381  INFO 17160 --- [main] com.mika.chatroom.ChatRoomApplication    : Started ChatRoomApplication in 2.279 seconds (JVM running for 2.615)
2024-03-25 18:11:48.915  INFO 17160 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-25 18:11:48.916  INFO 17160 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-25 18:11:48.916  INFO 17160 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-03-25 18:11:49.046  INFO 17160 --- [http-nio-8080-exec-2] c.m.c.config.TestWebSocketHandler        : TestWebSocketConfig 连接成功！
2024-03-25 18:12:02.161  INFO 17160 --- [http-nio-8080-exec-5] c.m.c.config.TestWebSocketHandler        : TestWebSocketConfig 收到消息！TextMessage payload=[nihao], byteCount=5, last=true]
2024-03-25 18:12:30.138  INFO 17160 --- [http-nio-8080-exec-8] c.m.c.config.TestWebSocketHandler        : TestWebSocketConfig 连接关闭！
2024-03-25 19:22:41.299  INFO 24976 --- [main] com.mika.chatroom.ChatRoomApplication    : Starting ChatRoomApplication using Java 1.8.0_192 on ib with PID 24976 (C:\Code\Java\chatroom\target\classes started by 86135 in C:\Code\Java\ChatRoom)
2024-03-25 19:22:41.301  INFO 24976 --- [main] com.mika.chatroom.ChatRoomApplication    : No active profile set, falling back to 1 default profile: "default"
2024-03-25 19:22:42.303  INFO 24976 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-25 19:22:42.311  INFO 24976 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-25 19:22:42.311  INFO 24976 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.82]
2024-03-25 19:22:42.412  INFO 24976 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-25 19:22:42.412  INFO 24976 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1075 ms
2024-03-25 19:22:42.455  WARN 24976 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSocketConfig': Unsatisfied dependency expressed through field 'textWebSocketHandler'; nested exception is org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'org.springframework.web.socket.handler.TextWebSocketHandler' available: expected single matching bean but found 2: testWebSocketHandler,webSocketHandler
2024-03-25 19:22:42.457  INFO 24976 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-03-25 19:22:42.467  INFO 24976 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2024-03-25 19:22:42.494 ERROR 24976 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field textWebSocketHandler in com.mika.chatroom.config.WebSocketConfig required a single bean, but 2 were found:
	- testWebSocketHandler: defined in file [C:\Code\Java\chatroom\target\classes\com\mika\chatroom\config\TestWebSocketHandler.class]
	- webSocketHandler: defined in file [C:\Code\Java\chatroom\target\classes\com\mika\chatroom\config\WebSocketHandler.class]


Action:

Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed

2024-03-25 19:23:41.185  INFO 19068 --- [main] com.mika.chatroom.ChatRoomApplication    : Starting ChatRoomApplication using Java 1.8.0_192 on ib with PID 19068 (C:\Code\Java\chatroom\target\classes started by 86135 in C:\Code\Java\ChatRoom)
2024-03-25 19:23:41.187  INFO 19068 --- [main] com.mika.chatroom.ChatRoomApplication    : No active profile set, falling back to 1 default profile: "default"
2024-03-25 19:23:42.203  INFO 19068 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-25 19:23:42.214  INFO 19068 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-25 19:23:42.214  INFO 19068 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.82]
2024-03-25 19:23:42.327  INFO 19068 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-25 19:23:42.328  INFO 19068 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1104 ms
2024-03-25 19:23:43.038  INFO 19068 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-25 19:23:43.049  INFO 19068 --- [main] com.mika.chatroom.ChatRoomApplication    : Started ChatRoomApplication in 2.206 seconds (JVM running for 2.523)
2024-03-25 19:23:51.119  INFO 19068 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-25 19:23:51.119  INFO 19068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-25 19:23:51.120  INFO 19068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-25 19:23:51.214 ERROR 19068 --- [http-nio-8080-exec-10] c.m.chatroom.controller.UserController   : 用户未登录!
2024-03-25 19:23:51.214 ERROR 19068 --- [http-nio-8080-exec-3] c.m.c.controller.FriendController        : 用户未登录!
2024-03-25 19:23:51.220 ERROR 19068 --- [http-nio-8080-exec-1] c.m.c.c.MessageSessionController         : 用户未登录!
2024-03-25 19:23:58.141  INFO 19068 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-25 19:23:58.508  INFO 19068 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-25 19:24:42.434  INFO 19068 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-25 19:24:42.442  INFO 19068 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-25 19:37:40.623  INFO 23700 --- [main] com.mika.chatroom.ChatRoomApplication    : Starting ChatRoomApplication using Java 1.8.0_192 on ib with PID 23700 (C:\Code\Java\chatroom\target\classes started by 86135 in C:\Code\Java\ChatRoom)
2024-03-25 19:37:40.642  INFO 23700 --- [main] com.mika.chatroom.ChatRoomApplication    : No active profile set, falling back to 1 default profile: "default"
2024-03-25 19:37:44.565  INFO 23700 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-25 19:37:44.592  INFO 23700 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-25 19:37:44.593  INFO 23700 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.82]
2024-03-25 19:37:44.887  INFO 23700 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-25 19:37:44.888  INFO 23700 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3920 ms
2024-03-25 19:37:48.202  INFO 23700 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-25 19:37:48.317  INFO 23700 --- [main] com.mika.chatroom.ChatRoomApplication    : Started ChatRoomApplication in 10.006 seconds (JVM running for 12.819)
2024-03-25 19:38:33.460  INFO 23700 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-25 19:38:33.461  INFO 23700 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-25 19:38:33.463  INFO 23700 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-25 19:38:33.583 ERROR 23700 --- [http-nio-8080-exec-4] c.m.c.controller.FriendController        : 用户未登录!
2024-03-25 19:38:33.583 ERROR 23700 --- [http-nio-8080-exec-3] c.m.chatroom.controller.UserController   : 用户未登录!
2024-03-25 19:38:33.600 ERROR 23700 --- [http-nio-8080-exec-5] c.m.c.c.MessageSessionController         : 用户未登录!
2024-03-25 19:38:33.684  INFO 23700 --- [http-nio-8080-exec-2] c.mika.chatroom.config.WebSocketHandler  : WebSocketHandler 连接成功！
2024-03-25 19:38:33.692 ERROR 23700 --- [http-nio-8080-exec-2] w.s.h.ExceptionWebSocketHandlerDecorator : Closing session due to exception for StandardWebSocketSession[id=76dcc00a-91ea-583f-b882-87aa69d34fa2, uri=ws://127.0.0.1:8080/WebSocketMessage]

java.lang.NullPointerException: null
	at com.mika.chatroom.config.WebSocketHandler.afterConnectionEstablished(WebSocketHandler.java:20) ~[classes/:na]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.afterConnectionEstablished(WebSocketHandlerDecorator.java:70) ~[spring-websocket-5.3.30.jar:5.3.30]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.afterConnectionEstablished(LoggingWebSocketHandlerDecorator.java:48) ~[spring-websocket-5.3.30.jar:5.3.30]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.afterConnectionEstablished(ExceptionWebSocketHandlerDecorator.java:48) ~[spring-websocket-5.3.30.jar:5.3.30]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onOpen(StandardWebSocketHandlerAdapter.java:104) [spring-websocket-5.3.30.jar:5.3.30]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131) [tomcat-embed-websocket-9.0.82.jar:9.0.82]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:970) [tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794) [tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.82.jar:9.0.82]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.82.jar:9.0.82]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_192]

2024-03-25 19:38:33.700  INFO 23700 --- [http-nio-8080-exec-2] c.mika.chatroom.config.WebSocketHandler  : WebSocketHandler 连接关闭！CloseStatus[code=1011, reason=null]
2024-03-25 19:38:40.717  INFO 23700 --- [http-nio-8080-exec-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-25 19:38:41.020  INFO 23700 --- [http-nio-8080-exec-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-25 19:38:41.186  INFO 23700 --- [http-nio-8080-exec-8] c.mika.chatroom.config.WebSocketHandler  : WebSocketHandler 连接成功！
2024-03-25 19:38:41.187  INFO 23700 --- [http-nio-8080-exec-8] c.mika.chatroom.config.WebSocketHandler  : 获取到 userId: 1
2024-03-25 19:43:08.146  INFO 23700 --- [SpringApplicationShutdownHook] c.mika.chatroom.config.WebSocketHandler  : WebSocketHandler 连接关闭！CloseStatus[code=1001, reason=The web application is stopping]
2024-03-25 19:43:08.160  INFO 23700 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-25 19:43:08.190  INFO 23700 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-25 22:09:40.049  INFO 5448 --- [main] com.mika.chatroom.ChatRoomApplication    : Starting ChatRoomApplication using Java 1.8.0_192 on ib with PID 5448 (C:\Code\Java\chatroom\target\classes started by 86135 in C:\Code\Java\ChatRoom)
2024-03-25 22:09:40.051  INFO 5448 --- [main] com.mika.chatroom.ChatRoomApplication    : No active profile set, falling back to 1 default profile: "default"
2024-03-25 22:09:41.088  INFO 5448 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-25 22:09:41.097  INFO 5448 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-25 22:09:41.098  INFO 5448 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.82]
2024-03-25 22:09:41.205  INFO 5448 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-25 22:09:41.206  INFO 5448 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1115 ms
2024-03-25 22:09:41.924  INFO 5448 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-25 22:09:41.938  INFO 5448 --- [main] com.mika.chatroom.ChatRoomApplication    : Started ChatRoomApplication in 2.224 seconds (JVM running for 2.558)
2024-03-25 22:09:47.388  INFO 5448 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-25 22:09:47.388  INFO 5448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-25 22:09:47.390  INFO 5448 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-03-25 22:09:47.477 ERROR 5448 --- [http-nio-8080-exec-5] c.m.c.controller.FriendController        : 用户未登录!
2024-03-25 22:09:47.477 ERROR 5448 --- [http-nio-8080-exec-4] c.m.chatroom.controller.UserController   : 用户未登录!
2024-03-25 22:09:47.486 ERROR 5448 --- [http-nio-8080-exec-3] c.m.c.c.MessageSessionController         : 用户未登录!
2024-03-25 22:09:47.516  INFO 5448 --- [http-nio-8080-exec-6] c.mika.chatroom.config.WebSocketHandler  : WebSocketHandler 连接成功！
2024-03-25 22:09:49.139  INFO 5448 --- [http-nio-8080-exec-7] c.mika.chatroom.config.WebSocketHandler  : WebSocketHandler 连接关闭！CloseStatus[code=1001, reason=null]
2024-03-25 22:09:55.472  INFO 5448 --- [http-nio-8080-exec-8] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-25 22:09:55.799  INFO 5448 --- [http-nio-8080-exec-8] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-25 22:09:55.999  INFO 5448 --- [http-nio-8080-exec-10] c.mika.chatroom.config.WebSocketHandler  : WebSocketHandler 连接成功！
2024-03-25 22:09:56.000  INFO 5448 --- [http-nio-8080-exec-10] c.mika.chatroom.config.WebSocketHandler  : 获取到 userId: 1
2024-03-25 22:09:56.000  INFO 5448 --- [http-nio-8080-exec-10] c.m.c.component.OnlineUserManager        : [1] 用户上线！
2024-03-25 22:10:29.459  INFO 5448 --- [http-nio-8080-exec-3] c.mika.chatroom.config.WebSocketHandler  : WebSocketHandler 收到消息！TextMessage payload=[{"type":"/..], byteCount=87, last=true]
2024-03-25 22:10:29.505 ERROR 5448 --- [http-nio-8080-exec-3] c.mika.chatroom.config.WebSocketHandler  : 消息类型有误! {"type":"/message/getMessageList","sessionId":"4","content":"晚上出去搓一顿？"}
2024-03-25 22:16:05.402  INFO 5448 --- [http-nio-8080-exec-9] c.mika.chatroom.config.WebSocketHandler  : WebSocketHandler 收到消息！TextMessage payload=[{"type":"/..], byteCount=78, last=true]
2024-03-25 22:16:05.404 ERROR 5448 --- [http-nio-8080-exec-9] c.mika.chatroom.config.WebSocketHandler  : 消息类型有误! {"type":"/message/getMessageList","sessionId":"4","content":"亲，在吗？"}
2024-03-25 22:17:37.186  INFO 5448 --- [SpringApplicationShutdownHook] c.mika.chatroom.config.WebSocketHandler  : WebSocketHandler 连接关闭！CloseStatus[code=1001, reason=The web application is stopping]
2024-03-25 22:17:37.186  INFO 5448 --- [SpringApplicationShutdownHook] c.m.c.component.OnlineUserManager        : [1] 用户下线！
2024-03-25 22:17:37.192  INFO 5448 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-25 22:17:37.202  INFO 5448 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-25 22:17:39.292  INFO 7540 --- [main] com.mika.chatroom.ChatRoomApplication    : Starting ChatRoomApplication using Java 1.8.0_192 on ib with PID 7540 (C:\Code\Java\chatroom\target\classes started by 86135 in C:\Code\Java\ChatRoom)
2024-03-25 22:17:39.294  INFO 7540 --- [main] com.mika.chatroom.ChatRoomApplication    : No active profile set, falling back to 1 default profile: "default"
2024-03-25 22:17:40.277  INFO 7540 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-25 22:17:40.286  INFO 7540 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-25 22:17:40.286  INFO 7540 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.82]
2024-03-25 22:17:40.414  INFO 7540 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-25 22:17:40.414  INFO 7540 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1084 ms
2024-03-25 22:17:41.132  INFO 7540 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-25 22:17:41.145  INFO 7540 --- [main] com.mika.chatroom.ChatRoomApplication    : Started ChatRoomApplication in 2.185 seconds (JVM running for 2.483)
2024-03-25 22:17:52.412  INFO 7540 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-25 22:17:52.413  INFO 7540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-25 22:17:52.415  INFO 7540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-25 22:17:52.533 ERROR 7540 --- [http-nio-8080-exec-10] c.m.c.controller.FriendController        : 用户未登录!
2024-03-25 22:17:52.533 ERROR 7540 --- [http-nio-8080-exec-7] c.m.chatroom.controller.UserController   : 用户未登录!
2024-03-25 22:17:52.544 ERROR 7540 --- [http-nio-8080-exec-5] c.m.c.c.MessageSessionController         : 用户未登录!
2024-03-25 22:17:52.616  INFO 7540 --- [http-nio-8080-exec-4] c.mika.chatroom.config.WebSocketHandler  : WebSocketHandler 连接成功！
2024-03-25 22:17:54.298  INFO 7540 --- [http-nio-8080-exec-6] c.mika.chatroom.config.WebSocketHandler  : WebSocketHandler 连接关闭！CloseStatus[code=1001, reason=null]
2024-03-25 22:17:59.602  INFO 7540 --- [http-nio-8080-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-25 22:17:59.924  INFO 7540 --- [http-nio-8080-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-25 22:18:00.073  INFO 7540 --- [http-nio-8080-exec-1] c.mika.chatroom.config.WebSocketHandler  : WebSocketHandler 连接成功！
2024-03-25 22:18:00.075  INFO 7540 --- [http-nio-8080-exec-1] c.mika.chatroom.config.WebSocketHandler  : 获取到 userId: 1
2024-03-25 22:18:00.076  INFO 7540 --- [http-nio-8080-exec-1] c.m.c.component.OnlineUserManager        : [1] 用户上线！
2024-03-25 22:18:11.617  INFO 7540 --- [http-nio-8080-exec-5] c.mika.chatroom.config.WebSocketHandler  : WebSocketHandler 收到消息！TextMessage payload=[{"type":"/..], byteCount=87, last=true]
2024-03-25 22:18:11.675 ERROR 7540 --- [http-nio-8080-exec-5] c.mika.chatroom.config.WebSocketHandler  : 消息类型有误! {"type":"/message/getMessageList","sessionId":"4","content":"晚上出去搓一顿？"}
2024-03-25 22:18:22.106  INFO 7540 --- [http-nio-8080-exec-6] c.mika.chatroom.config.WebSocketHandler  : WebSocketHandler 连接关闭！CloseStatus[code=1001, reason=null]
2024-03-25 22:18:22.107  INFO 7540 --- [http-nio-8080-exec-6] c.m.c.component.OnlineUserManager        : [1] 用户下线！
2024-03-25 22:18:22.299  INFO 7540 --- [http-nio-8080-exec-7] c.mika.chatroom.config.WebSocketHandler  : WebSocketHandler 连接成功！
2024-03-25 22:18:22.300  INFO 7540 --- [http-nio-8080-exec-7] c.mika.chatroom.config.WebSocketHandler  : 获取到 userId: 1
2024-03-25 22:18:22.302  INFO 7540 --- [http-nio-8080-exec-7] c.m.c.component.OnlineUserManager        : [1] 用户上线！
2024-03-25 22:19:07.739  INFO 7540 --- [http-nio-8080-exec-9] c.mika.chatroom.config.WebSocketHandler  : WebSocketHandler 收到消息！TextMessage payload=[{"type":"m..], byteCount=71, last=true]
2024-03-25 22:19:07.745  INFO 7540 --- [http-nio-8080-exec-9] c.mika.chatroom.config.WebSocketHandler  : [transferMessage] respJson: {"type":"message","fromId":1,"fromName":"mika","sessionId":4,"content":"晚上出去搓一顿？"}
2024-03-25 22:19:47.133  INFO 7540 --- [http-nio-8080-exec-10] c.mika.chatroom.config.WebSocketHandler  : WebSocketHandler 连接成功！
2024-03-25 22:19:47.135 ERROR 7540 --- [http-nio-8080-exec-4] c.m.chatroom.controller.UserController   : 用户未登录!
2024-03-25 22:19:47.135 ERROR 7540 --- [http-nio-8080-exec-7] c.m.c.controller.FriendController        : 用户未登录!
2024-03-25 22:19:47.135 ERROR 7540 --- [http-nio-8080-exec-6] c.m.c.c.MessageSessionController         : 用户未登录!
2024-03-25 22:19:50.439  INFO 7540 --- [http-nio-8080-exec-5] c.mika.chatroom.config.WebSocketHandler  : WebSocketHandler 连接关闭！CloseStatus[code=1001, reason=null]
2024-03-25 22:19:59.959  INFO 7540 --- [http-nio-8080-exec-4] c.mika.chatroom.config.WebSocketHandler  : WebSocketHandler 连接成功！
2024-03-25 22:19:59.959  INFO 7540 --- [http-nio-8080-exec-4] c.mika.chatroom.config.WebSocketHandler  : 获取到 userId: 4
2024-03-25 22:19:59.960  INFO 7540 --- [http-nio-8080-exec-4] c.m.c.component.OnlineUserManager        : [4] 用户上线！
2024-03-25 22:20:34.879  INFO 7540 --- [http-nio-8080-exec-5] c.mika.chatroom.config.WebSocketHandler  : WebSocketHandler 收到消息！TextMessage payload=[{"type":"m..], byteCount=59, last=true]
2024-03-25 22:20:34.880  INFO 7540 --- [http-nio-8080-exec-5] c.mika.chatroom.config.WebSocketHandler  : [transferMessage] respJson: {"type":"message","fromId":4,"fromName":"wangwu","sessionId":4,"content":"你请客？"}
2024-03-25 22:20:56.015  INFO 7540 --- [http-nio-8080-exec-9] c.mika.chatroom.config.WebSocketHandler  : WebSocketHandler 收到消息！TextMessage payload=[{"type":"m..], byteCount=71, last=true]
2024-03-25 22:20:56.017  INFO 7540 --- [http-nio-8080-exec-9] c.mika.chatroom.config.WebSocketHandler  : [transferMessage] respJson: {"type":"message","fromId":1,"fromName":"mika","sessionId":4,"content":"救命，你在想屁吃"}
2024-03-25 22:21:02.607  INFO 7540 --- [http-nio-8080-exec-4] c.mika.chatroom.config.WebSocketHandler  : WebSocketHandler 收到消息！TextMessage payload=[{"type":"m..], byteCount=56, last=true]
2024-03-25 22:21:02.609  INFO 7540 --- [http-nio-8080-exec-4] c.mika.chatroom.config.WebSocketHandler  : [transferMessage] respJson: {"type":"message","fromId":4,"fromName":"wangwu","sessionId":4,"content":"那算了"}
2024-03-25 22:21:15.772  INFO 7540 --- [http-nio-8080-exec-7] c.mika.chatroom.config.WebSocketHandler  : WebSocketHandler 收到消息！TextMessage payload=[{"type":"m..], byteCount=50, last=true]
2024-03-25 22:21:15.774  INFO 7540 --- [http-nio-8080-exec-7] c.mika.chatroom.config.WebSocketHandler  : [transferMessage] respJson: {"type":"message","fromId":1,"fromName":"mika","sessionId":4,"content":"啧"}
2024-03-25 22:22:00.651  INFO 7540 --- [http-nio-8080-exec-8] c.mika.chatroom.config.WebSocketHandler  : WebSocketHandler 连接关闭！CloseStatus[code=1001, reason=null]
2024-03-25 22:22:00.651  INFO 7540 --- [http-nio-8080-exec-8] c.m.c.component.OnlineUserManager        : [4] 用户下线！
2024-03-25 22:22:18.839  INFO 7540 --- [SpringApplicationShutdownHook] c.mika.chatroom.config.WebSocketHandler  : WebSocketHandler 连接关闭！CloseStatus[code=1001, reason=The web application is stopping]
2024-03-25 22:22:18.839  INFO 7540 --- [SpringApplicationShutdownHook] c.m.c.component.OnlineUserManager        : [1] 用户下线！
2024-03-25 22:22:18.861  INFO 7540 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-25 22:22:18.888  INFO 7540 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
